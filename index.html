<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>YOPO - 실시간 코인 분석</title>
    <style>
        /* [디자인] Blue & White 컨셉 설정 */
        body { font-family: 'Pretendard', sans-serif; background-color: #f4f7fa; color: #333; margin: 0; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { color: #0052ff; text-align: center; } /* 강조색: 신뢰를 주는 블루 */
        
        /* [디자인] 코인 리스트 카드 스타일 */
        .coin-card {
            background: white;
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05); /* 은은한 그림자 */
        }
        .coin-name { font-weight: bold; font-size: 1.1em; }
        .coin-price { color: #0052ff; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h1>YOPO 실시간 마켓</h1>
    <p style="text-align: center; color: #666;">현재 바이비트 거래대금 상위 코인 정보를 가져오는 중입니다...</p>
    
    <div id="coin-list"></div>
</div>

<script>
    // [기능] 바이비트에서 데이터를 가져오는 함수
    async function getPrices() {
        try {
            // 바이비트 API에 "지금 가격 좀 알려줘"라고 요청하는 부분입니다.
            const response = await fetch('https://api.bybit.com/v5/market/tickers?category=linear');
            const data = await response.json();
            const coins = data.result.list;

            // 거래대금이 높은 순서대로 15개만 자르기
            const top15 = coins.sort((a, b) => b.turnover24h - a.turnover24h).slice(0, 15);

            // 화면에 뿌려주기
            const listContainer = document.getElementById('coin-list');
            listContainer.innerHTML = ''; // 기존 내용을 지우고 새로고침

            top15.forEach(coin => {
                const card = `
                    <div class="coin-card">
                        <span class="coin-name">${coin.symbol}</span>
                        <span class="coin-price">$ ${parseFloat(coin.lastPrice).toLocaleString()}</span>
                    </div>
                `;
                listContainer.insertAdjacentHTML('beforeend', card);
            });
        } catch (error) {
            console.error("데이터를 가져오는데 실패했습니다:", error);
        }
    }

    // 처음에 한 번 실행하고, 5초마다 새로고침합니다.
    getPrices();
    setInterval(getPrices, 5000);
</script>

</body>
</html>
